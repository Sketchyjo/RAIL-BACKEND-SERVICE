# ============================================
# Rail Backend - Staging Environment (Fly.io)
# ============================================
# Free-tier stack: Fly.io + Neon Postgres + Upstash Redis
#
# Set these as Fly.io secrets:
#   fly secrets set KEY=value KEY2=value2
#
# DO NOT commit this file with real values.

# ============================================
# App
# ============================================
ENVIRONMENT=staging
PORT=8080
GIN_MODE=release
LOG_LEVEL=info

# ============================================
# Database (Neon Postgres - free tier)
# https://console.neon.tech → Create project → Copy connection string
# ============================================
DATABASE_URL=postgres://<user>:<password>@<project>.neon.tech/rail_service_staging?sslmode=require

# ============================================
# Redis (Upstash - free tier)
# https://console.upstash.com → Create database → REST API disabled, use redis:// URL
# ============================================
REDIS_HOST=<your-id>.upstash.io
REDIS_PORT=6379
REDIS_PASSWORD=<your-upstash-password>

# ============================================
# Auth & Security (generate fresh values)
# openssl rand -base64 32
# ============================================
JWT_SECRET=<generate-with-openssl-rand-base64-32>
ENCRYPTION_KEY=<generate-with-openssl-rand-base64-32>

# ============================================
# Circle (sandbox)
# ============================================
CIRCLE_API_KEY=<your-circle-sandbox-key>
CIRCLE_ENVIRONMENT=sandbox

# ============================================
# Alpaca (paper trading)
# ============================================
ALPACA_API_KEY=<your-alpaca-paper-key>
ALPACA_API_SECRET=<your-alpaca-paper-secret>
ALPACA_ENVIRONMENT=paper
ALPACA_BASE_URL=https://paper-api.alpaca.markets

# ============================================
# Bridge (sandbox)
# ============================================
BRIDGE_API_KEY=<your-bridge-sandbox-key>
BRIDGE_ENVIRONMENT=sandbox

# ============================================
# Email (disable for staging or use Resend free tier)
# ============================================
EMAIL_PROVIDER=resend
RESEND_API_KEY=<your-resend-key-or-leave-empty>
RESEND_FROM_EMAIL=noreply@yourdomain.com

# ============================================
# Feature Flags (staging defaults)
# ============================================
ENABLE_RECONCILIATION=false
ENABLE_AI_CFO=false
ENABLE_COPY_TRADING=false
ENABLE_DEBIT_CARDS=false
